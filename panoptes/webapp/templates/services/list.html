{% extends "/base.html" %}

{%- block styles %}
{{super()}}
<link href="/static/css/dataTables.bootstrap.min.css" rel="stylesheet" media="screen">
<link href="/static/css/datatables.min.css" rel="stylesheet" media="screen">
{%- endblock styles %}

{% block title %}{{pagetitle}}{% endblock %}

{% block content %}
<div class="panel panel-default">
    <div class="panel-heading" style="padding-top: 16px;">
        <h2 class="panel-title pull-left" style="font-size: 32px;">{{pagetitle}}</h2>
        <div class="btn-group pull-right">  
    </div>
    </div>
    <div class="panel-body">
        <table id="maintable" class="table" cellspacing="0" width="100%">
            <thead>
                <tr>
                    {% for t in table_head %}
                    <th>{{t}}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        
    </div>
</div>
{% endblock %}

{% block scripts %}
{{super()}}
<script type="text/javascript" src="/static/js/datatables.min.js"></script>
<script type="text/javascript" src="/static/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {
    $('#maintable').DataTable( {
        "paging" : false,
        "ordering" : false,
        "dom": 'rt',
        "processing": true,
        "serverSide": true,
        "stateSave": true,
        "ajax": {
            "url": '{{results}}',
            "type": 'POST'
        }
    } );
} );

</script>
{% endblock %}